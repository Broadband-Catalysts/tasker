% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/subtask_update.R
\name{subtask_update}
\alias{subtask_update}
\title{Update subtask progress}
\usage{
subtask_update(
  status = c("RUNNING", "COMPLETED", "FAILED", "SKIPPED"),
  percent = NULL,
  items_complete = NULL,
  message = NULL,
  error_message = NULL,
  quiet = FALSE,
  conn = NULL,
  run_id = NULL,
  subtask_number = NULL
)
}
\arguments{
\item{status}{Status: RUNNING, COMPLETED, FAILED, SKIPPED. Partial matching
is supported (e.g., "COMPLETE" will match "COMPLETED").}

\item{percent}{Percent complete 0-100 (optional)}

\item{items_complete}{Items completed - sets absolute value (optional)}

\item{message}{Progress message (optional)}

\item{error_message}{Error message if failed (optional)}

\item{quiet}{Suppress console messages (default: FALSE)}

\item{conn}{Database connection (optional)}

\item{run_id}{Run ID from task_start(), or NULL to use active context}

\item{subtask_number}{Subtask number, or NULL to use current subtask}
}
\value{
TRUE on success
}
\description{
Update subtask progress
}
\note{
For parallel workers incrementing counters, use subtask_increment() instead
to avoid race conditions. Related functions subtask_increment and subtask_complete
are now in separate files (subtask_increment.R and subtask_complete.R).
}
\examples{
\dontrun{
# Old style
subtask_update(status = "RUNNING", percent = 50, items_complete = 28,
               run_id = run_id, subtask_number = 1)

# New style - use context
subtask_update(status = "RUNNING", percent = 50)

# Partial matching works
subtask_update(status = "COMPLETED", percent = 100)  # Canonical completion status
}
}
\seealso{
\code{\link[=subtask_increment]{subtask_increment()}} for atomic counter updates safe for parallel
workers, \code{\link[=subtask_start]{subtask_start()}} to start tracking a subtask,
\code{\link[=get_subtask_progress]{get_subtask_progress()}} to query subtask progress,
\code{\link[=subtask_complete]{subtask_complete()}} for convenient completion marking,
\code{\link[=find_and_update_subtask]{find_and_update_subtask()}} to update subtask by searching for it
}
