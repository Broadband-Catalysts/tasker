% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/register_task.R
\name{register_task}
\alias{register_task}
\title{Register a task in the tasker system}
\usage{
register_task(
  stage,
  name,
  type,
  description = NULL,
  script_path = NULL,
  script_filename = NULL,
  log_path = NULL,
  log_filename = NULL,
  stage_order,
  task_order = NULL,
  conn = NULL
)
}
\arguments{
\item{stage}{Stage name (e.g., "PREREQ", "STATIC", "DAILY")}

\item{name}{Task name}

\item{type}{Task type (e.g., "R", "python", "sh")}

\item{description}{Task description (optional)}

\item{script_path}{Path to script directory. If NULL and executing from a
script, defaults to the directory of the currently executing script (with warning)}

\item{script_filename}{Script filename. If NULL and script_path is provided,
extracts filename from script_path. If both are NULL and executing from a
script, defaults to the currently executing script filename (with warning)}

\item{log_path}{Path to log directory. If NULL and script_path is detected,
defaults to same as script_path (with warning)}

\item{log_filename}{Log filename. If NULL and script_filename is available,
defaults to script_filename with extension changed (.R → .Rout, .sh/.py → .log)
(with warning)}

\item{stage_order}{Stage ordering (required)}

\item{task_order}{Task ordering within stage (optional)}

\item{conn}{Database connection (optional)}
}
\value{
task_id (invisibly)
}
\description{
When called from within a script, this function can automatically detect and
use sensible defaults for script paths and log filenames (with warnings).
}
\examples{
\dontrun{
# Explicit specification (no warnings)
register_task(stage = "PREREQ", name = "Install System Dependencies", 
              type = "sh", stage_order = 1,
              script_path = "/path/to/scripts",
              script_filename = "01_install.sh",
              log_path = "/path/to/logs",
              log_filename = "01_install.log")

# Auto-detection from script context (issues warnings)
register_task(stage = "PREREQ", name = "Install R", 
              type = "sh", stage_order = 1)
}
}
